{% if product.compare_at_price > product.price %}
  {% if product.price_varies %}
    {%- assign sale_price = product.price | money -%}
    {{ 'products.product.on_sale_from_html' | t: price: sale_price }}
  {% else %}
    <div class="product--onSale" aria-hidden="true">
      Sale
    </div>
    {{ product.price | money }}
  {% endif %}
{% else %}
  {% if product.price_varies %}
    {%- assign price = product.price | money -%}
    {{ 'products.product.from_text_html' | t: price: price }}
  {% else %}
    {{ product.price | money }}
  {% endif %}
{% endif %}